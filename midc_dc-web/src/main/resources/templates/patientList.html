<!DOCTYPE html>
<html ng-app="patientApp" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" th:href="@{/assets/select-mutiple/css/select-multiple.css}"/>
    <header th:replace="importCommon"></header>
    <header th:replace="importDate"></header>
    <script th:src="@{/js/system/controller/PatientCtrl.js}"></script>
    <script th:src="@{/js/system/service/PatientService.js}"></script>
    <script th:src="@{/assets/select-mutiple/js/multiselect.min.js}"></script>
    <script th:src="@{/assets/select-mutiple/js/prettify.min.js}"></script>
    <title>患者管理</title>
</head>

<body ng-controller="patientCtrl">
<div class="page-content">
    <div class="commonManager">
        <form id="form1" name="form1" method="post" action="">
            <div class="Manager_style add_patient_info search_style">
                <ul class="search_content clearfix" >
                    <li><label class="lf">患者姓名</label>
                        <label>
                            <input name="patientName" ng-model="queryFilter.param.patientName"
                                   type="text"
                                   class="text_add"/>
                        </label>
                    </li>
                    <li><label class="lf">病人ID</label>
                        <label>
                            <input name="patientId" ng-model="queryFilter.param.patientId"
                                   type="text"
                                   class="text_add"/>
                        </label>
                    </li>
                    <li><label class="lf">医疗机构ID</label>
                        <label>
                            <input name="hospitalId" ng-model="queryFilter.param.hospitalId"
                                   type="text"
                                   class="text_add"/>
                        </label>
                    </li>
                    <li>
                         <label class="lf">性别</label>
                         <label>
                             <select name="sex" size="1" ng-model="queryFilter.param.sex"
                                     >
                                     <option value="">--请选择--</option>
                                 <option ng-repeat="map in sexMap"
                                         ng-selected="map.code == queryFilter.param.sex"
                                         value="{{map.code}}" ng-bind="map.name"></option>
                             </select>
                         </label>
                     </li>
                     
                     <li>
                         <label class="lf">设备类型</label>
                         <label>
                             <select name="deviceType" size="1" ng-model="queryFilter.param.deviceTypeId" ng-change="getByDevice()"
                                     >
                                     <option value="">--请选择--</option>
                                 <option ng-repeat="map in dList"
                                         value="{{map.deviceTypeId}}" ng-bind="map.deviceTypeName"></option>
                             </select>
                         </label>
                     </li>
                     <li>
                         <label class="lf">检查部位</label>
                         <label>
                             <select name="positionId" size="1" ng-model="queryFilter.param.positiontypeId" ng-change="getByDevicePos()"
                                     >
                                     <option value="">--请选择--</option>
                                 <option ng-repeat="map in dpcList1"
                                         value="{{map.positiontypeId}}" ng-bind="map.positiontypeName"></option>
                             </select>
                         </label>
                     </li>
                     <li>
                         <label class="lf">检查方法</label>
                         <label>
                             <select name="checkitemId" size="1" ng-model="queryFilter.param.checkitemId"
                                     >
                                     <option value="">--请选择--</option>
                                 <option ng-repeat="map in dpcList2"
                                         value="{{map.checkitemId}}" ng-bind="map.checkitemName"></option>
                             </select>
                         </label>
                     </li>
                     
                     <li><label class="lf">日期 从:</label>
                        <label>
                            <input id = "startTime" type="text" ng-model="queryFilter.param.startTime"  th:readonly="true" class="date eg-date"/>
                            <span class="date-icon"><i class="icon-calendar"></i></span>
                        </label>
                    </li>
                    <li><label class="lf">日期 到:</label>
                        <label>
                            <input id="endTime" type="text" ng-model="queryFilter.param.endTime"  th:readonly="true" class="date eg-date"/>
                            <span class="date-icon"><i class="icon-calendar"></i></span>
                        </label>
                    </li>
                    
                    <button id="btn_search" ng-click="patientSearch = !patientSearch" type="button"
                            class="btn btn-primary queryBtn">查询
                    </button>
                </ul>
                
                 <ul class="search_content clearfix">
                    <button class="btn btn-primary addBtn" type="button" ng-click="viewReport()"
                            id="view_report_btn" >查看报告
                    </button>
                    <button type="button" class="btn btn-primary updateBtn" ng-click="updatePatient()"  >修改
                    </button>
                </ul>
                
				<div id="report" style="display:none;">
					<form class="lui-form" action="">
					<fieldset class="lui-elem-field lui-field-title" >
					  <legend style="text-align: center;">影像诊断报告</legend>
					</fieldset>
				 	<div class="lui-form-item">
				    <div class="lui-inline">
				      <label class="lui-form-label">姓名：</label>
					  
				      <div class="lui-input-inline">
						<label style="text-align:left;display:block;padding-top:9px;padding-right:15px;padding-bottom:9px;padding-left:15px;">张三</label>
				      </div>
				    </div>
				    <div class="lui-inline">
				      <label class="lui-form-label">年龄：</label>
				      <div class="lui-input-inline">
						<label style="text-align:left;display:block;padding-top:9px;padding-right:5px;padding-bottom:9px;padding-left:5px;">32岁</label>
				      </div>
				    </div>
					<div class="lui-inline">
				      <label class="lui-form-label">性别：</label>
						<label style="text-align:left;display:block;padding-top:9px;padding-right:5px;padding-bottom:9px;padding-left:5px;">女</label>
				    </div>
				  </div>
				  
				  <div class="lui-form-item">
				    <div class="lui-inline">
				      <label class="lui-form-label">检查号：</label>	  
				      <div class="lui-input-inline">
						<label style="text-align:left;display:block;padding-top:9px;padding-right:15px;padding-bottom:9px;padding-left:15px;">123</label>
				      </div>
				    </div>
				    <div class="lui-inline">
				      <label class="lui-form-label">设备类型：</label>
				      <div class="lui-input-inline">
						<label style="text-align:left;display:block;padding-top:9px;padding-right:5px;padding-bottom:9px;padding-left:5px;">CT</label>
				      </div>
				    </div>
					<div class="lui-inline">
				      <label class="lui-form-label">检查时间：</label>
						<label style="text-align:left;display:block;padding-top:9px;padding-right:5px;padding-bottom:9px;padding-left:5px;">2017-04-19</label>
				    </div>
				  </div>
				  
					<fieldset class="lui-elem-field">
					  <legend>描述：</legend>
					  <div class="lui-field-box">
					    你可以在这里放任何内容
					  </div>
					</fieldset>
					
					<fieldset class="lui-elem-field">
					  <legend>诊断：</legend>
					  <div class="lui-field-box">
					    你可以在这里放任何内容
					  </div>
					</fieldset>
					
					<fieldset class="lui-elem-field">
					  <legend>建议：</legend>
					  <div class="lui-field-box">
					    你可以在这里放任何内容
					  </div>
					</fieldset>
				
					<div class="lui-form-item">
						<div class="lui-inline">
								<label class="lui-form-label">报告医生：</label>
								<div style=" float: left;width:190px;margin-right:10px">
									<label style="text-align:left;display:block;padding-top:9px;padding-right:5px;padding-bottom:9px;padding-left:5px;">王医生 </label> 
									<img id="user_sign_image" th:src="'/user/sign/'+${userid}" height="30" width="100" style="text-align:left;"></img>
								</div>
								<!-- <div class="lui-input-inline">
									<img id="user_sign_image" th:src="'/user/sign/'+${userid}" height="30" width="100" style="text-align:left;"></img>
								</div> -->
						</div>
						<div class="lui-inline">
					      <label class="lui-form-label">报告日期：</label>
							<div class="lui-input-inline">
							<label style="text-align:left;display:block;padding-top:9px;padding-right:15px;padding-bottom:9px;padding-left:15px;">2017-04-19</label>
							</div>
						</div>
					</div>
				 </form>
				</div>
                

            </div>
        </form>
        <div class="Manager_style">
            <div class="Patient_list">
                <table id="Patient_list" cellpadding="0" cellspacing="0"
                       class="table table-striped table-bordered table-hover">
                    <thead>
                    <tr>
                        <th>
                            <input name="patientCheckBox_All" id="patientCheckBox_All" type="checkbox" ng-click="selectAll($event)" class="ace"/>
                            <span class="lbl" style="cursor:pointer;"></span>
                        </th>
                        <th>患者姓名</th>
                        <th>医疗机构</th>
                        <th>病人ID</th>
                      	 <th>性别</th>
                      	<th> 年龄</th>
                      	<th>检查部位及检查方法</th>
                    	 <th>检查唯一ID</th>
                        <th>传输状态</th>
                        <th>检查日期</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="model in data">
                        <td>
                            <input name="subPatientChkBox_{{$index}}" value="{{model.checkitemId}}" type="checkbox" class="ace subPatientChkbox"/>
                            <span class="lbl" style="cursor:pointer;"></span>
                        </td>
                        <td ng-bind="model.patientName"></td>
                        <td ng-bind="model.hospName"></td>
                        <td ng-bind="model.patientId"></td>
                        <td ng-bind="model.patientSex"></td>
                        <td ng-bind="model.age"></td>
                        <td ng-bind="model.positionChk"></td>
                        <td ng-bind="model.studyinfoId"></td>
                        <td ng-bind="model.transStatus"></td>
                        <td ng-bind="model.createTime | date:'yyyy-MM-dd'"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="hupan_more eg-page"  url="/patlist/list" request-page-params="queryFilter"
                 click-search="patientSearch" return-page-rows="data"></div>
        </div>
    </div>
</div>
</body>
</html>